{% extends 'base.html' %}

{% block title %}Productos · Ca’Bigote Barber Shop{% endblock %}

{% block content %}
<div class="container py-5">

  <!-- Header -->
  <div class="card card-glass shadow-sm mb-4">
    <div class="card-header gradiente-header text-center">
      <h2 class="h4 fw-bold mb-0 text-ink">
        <i class="fas fa-box-open me-2 text-gold" aria-hidden="true"></i>
        Nuestros Productos
      </h2>
    </div>
  </div>

  {% if imagenes %}
    <div class="row g-4 animate-on-load">
      {% for imagen in imagenes %}
      <div class="col-12 {% if imagenes|length > 1 %}col-md-6{% else %}col-md-10 col-lg-8 mx-auto{% endif %}">
        <div class="card card-glass product-card h-100">
          <a href="{% url 'products:detalle_producto' producto_id=imagen.id %}" class="product-thumb d-block">
            <img
              src="{{ imagen.imagen.url }}"
              alt="{{ imagen.titulo }}"
              class="w-100 h-100"
              loading="lazy">
          </a>
          <div class="card-body text-center">
            <p class="m-0 text-ink"><strong>{{ imagen.titulo }}</strong></p>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="card card-glass text-center">
      <div class="card-body">
        <h5 class="card-title text-ink">No hay productos disponibles</h5>
        <p class="text-ink-muted mb-3">Vuelve pronto para descubrir nuestras novedades.</p>
        <a href="{% url 'home' %}" class="btn btn-outline-gold">Volver al inicio</a>
      </div>
    </div>
  {% endif %}

</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.animate-on-load').forEach(el => el.classList.add('loaded'));
  });
</script>
{% endblock %}
